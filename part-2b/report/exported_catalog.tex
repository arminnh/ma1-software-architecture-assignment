%%% element catalog, generated on Tue May 02 10:17:09 CEST 2017

%%%%
%% The following is a minimal header that allows you to compile a 'standalone' version of the catalog.
%% Uncomment these lines and dont forget to uncomment the \end{document} at the bottom.
%%%%
%% START MINIMAL HEADER
%\documentclass[a4paper,10pt]{report}
%% this package is not strictly needed
%\usepackage[top=2cm,bottom=2cm,left=2cm,right=2cm]{geometry}
%% the following packages are necessary
%\usepackage{enumitem}
%\usepackage{tikz}
%\usepackage{nameref}
%\usepackage{hyperref}
%
%\begin{document}
%% END MINIMAL HEADER


% EXPORT CMDS
% \texttt layout modifications

\newcommand*\vpejustify{%
	\fontdimen2\font=0.4em%
	\fontdimen3\font=0.8em%
	\fontdimen4\font=0.1em%
	\fontdimen7\font=1.0em%
	\hyphenchar\font=`\-\relax%
}
\newcommand{\vpett}[1]{\vpejustify{\texttt{#1}}}

% item labels
\makeatletter
\def\vpeitemlabel#1#2{\begingroup
	#2%
	\def\@currentlabel{#2}%
	\phantomsection\label{#1}\endgroup
}
\makeatother

% vpe operation
\newcommand{\vpeoperation}[1]{#1}

% vpe data type
\newcommand{\vpedatatype}[2]{\vpeitemlabel{#1}{\textbf{\textsf{#2}}}}

% vpe exception
\newcommand{\vpeexception}[2]{\vpeitemlabel{#1}{\textsl{#2}}}



\newcommand{\iconcomponent}{%
	\begin{tikzpicture}[scale=0.3,thin,baseline=-0.5ex]
	\draw (0,0) rectangle (0.4, 0.6);
	\draw [fill=white] (-0.1,0.40) rectangle +(0.25, 0.1);
	\draw [fill=white] (-0.1,0.22) rectangle +(0.25, 0.1);	
	\end{tikzpicture}%
}
\newcommand{\iconprovided}{%
	\begin{tikzpicture}[scale=0.25,thin,baseline=-0.5ex]
	\draw (0.60,0.25) circle [radius=0.25];
	\draw (0, 0.25) -- (0.35, 0.25);
	\end{tikzpicture}%
}
\newcommand{\iconrequired}{%
	\begin{tikzpicture}[scale=0.25,thin,baseline=-0.5ex]
	\draw (0.60,0) arc (270:90:0.25);
	\draw (0, 0.25) -- (0.35, 0.25);
	\end{tikzpicture}%
}
%  END EXPORT CMDS

\chapter{Catalog}
% COMPONENTS
\section{Components}\label{sec:components}
\subsection{AccessRightsManager}\label{comp:OnlineServiceOnlineServiceAccessRightsManager}
	\begin{description}[noitemsep,nolistsep]
		\item[Responsibility:]~Responsible for all functionality related to access rights to pluggable devices.
E.g. retrieving the access rights a customer organisation has for a device,
updating access rights for customer organisations, etc.
		\item[Super-components:]~None
		\item[Sub-components:]~None
		\item[Provided interfaces:]~\iconprovided{}~\vpett{\nameref{int:OnlineServiceOnlineServiceAccessRightsManagerAccessRightsMgmt}}
		\item[Required interfaces:]~\iconrequired{}~\vpett{\nameref{int:DeviceDatabaseDeviceDBAccessRightsMgmt}}		
	\end{description}
\subsection{ActuationCommandConstructor}\label{comp:OnlineServiceOnlineServiceApplicationManagerActuationCommandConstructor}
	\begin{description}[noitemsep,nolistsep]
		\item[Responsibility:]~{\colorbox{red!30}{\underline{Undefined}}}
		\item[Super-components:]~\iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceApplicationManager}}
		\item[Sub-components:]~None
		\item[Provided interfaces:]~\iconprovided{}~\vpett{\nameref{int:OnlineServiceOnlineServiceApplicationManagerActuation}}
		\item[Required interfaces:]~\iconrequired{}~\vpett{\nameref{int:GatewayGatewayGatewayFacadeAppDeviceMgmt}}		
	\end{description}
\subsection{ApplicationClient}\label{comp:ApplicationClient}
	\begin{description}[noitemsep,nolistsep]
		\item[Responsibility:]~{\colorbox{red!30}{\underline{Undefined}}}
		\item[Super-components:]~None
		\item[Sub-components:]~None
		\item[Provided interfaces:]~None
		\item[Required interfaces:]~\iconrequired{}~\vpett{\nameref{int:OnlineServiceOnlineServiceApplicationFacadeAppData}}, \iconrequired{}~\vpett{\nameref{int:OnlineServiceOnlineServiceApplicationFacadeDeviceMgmt}}, \iconrequired{}~\vpett{\nameref{int:OnlineServiceOnlineServiceApplicationFacadeTopologyOverview}}		
	\end{description}
\subsection{ApplicationContainer}\label{comp:OnlineServiceOnlineServiceApplicationManagerApplicationContainer}
	\begin{description}[noitemsep,nolistsep]
		\item[Responsibility:]~{\colorbox{red!30}{\underline{Undefined}}}
		\item[Super-components:]~\iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceApplicationManager}}
		\item[Sub-components:]~None
		\item[Provided interfaces:]~\iconprovided{}~\vpett{\nameref{int:OnlineServiceOnlineServiceApplicationManagerAppInstanceMgmt}}
		\item[Required interfaces:]~None		
	\end{description}
\subsection{ApplicationContainerManager}\label{comp:OnlineServiceOnlineServiceApplicationManagerApplicationContainerManager}
	\begin{description}[noitemsep,nolistsep]
		\item[Responsibility:]~This component contains sanbox environments for application instances to execute in.
		\item[Super-components:]~\iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceApplicationManager}}
		\item[Sub-components:]~None
		\item[Provided interfaces:]~None
		\item[Required interfaces:]~\iconrequired{}~\vpett{\nameref{int:OnlineServiceOnlineServiceApplicationManagerAppInstanceMgmt}}		
	\end{description}
\subsection{ApplicationContainerMonitor}\label{comp:OnlineServiceOnlineServiceApplicationManagerApplicationContainerMonitor}
	\begin{description}[noitemsep,nolistsep]
		\item[Responsibility:]~{\colorbox{red!30}{\underline{Undefined}}}
		\item[Super-components:]~\iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceApplicationManager}}
		\item[Sub-components:]~None
		\item[Provided interfaces:]~None
		\item[Required interfaces:]~\iconrequired{}~\vpett{\nameref{int:OnlineServiceOnlineServiceApplicationManagerAppInstanceMgmt}}		
	\end{description}
\subsection{ApplicationFacade}\label{comp:OnlineServiceOnlineServiceApplicationFacade}
	\begin{description}[noitemsep,nolistsep]
		\item[Responsibility:]~{\colorbox{red!30}{\underline{Undefined}}}
		\item[Super-components:]~None
		\item[Sub-components:]~None
		\item[Provided interfaces:]~\iconprovided{}~\vpett{\nameref{int:OnlineServiceOnlineServiceApplicationFacadeAppData}}, \iconprovided{}~\vpett{\nameref{int:OnlineServiceOnlineServiceApplicationFacadeDeviceMgmt}}, \iconprovided{}~\vpett{\nameref{int:OnlineServiceOnlineServiceApplicationFacadeTopologyOverview}}
		\item[Required interfaces:]~\iconrequired{}~\vpett{\nameref{int:OnlineServiceOnlineServiceApplicationManagerActuation}}, \iconrequired{}~\vpett{\nameref{int:OnlineServiceOnlineServiceApplicationManagerApps}}		
	\end{description}
\subsection{ApplicationManager}\label{comp:OnlineServiceOnlineServiceApplicationManager}
	\begin{description}[noitemsep,nolistsep]
		\item[Responsibility:]~Responsible for activating/deactivating applications, setting pluggable device redundancy requirements on \vpett{\nameref{comp:GatewayGatewayDeviceManager}} components, and using \vpett{\nameref{comp:OnlineServiceOnlineServiceNotificationHandler}} to send notifications to customer organisations.
		\item[Super-components:]~None
		\item[Sub-components:]~\iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceApplicationManagerActuationCommandConstructor}}, \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceApplicationManagerApplicationContainerMonitor}}, \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceApplicationManagerApplicationContainer}}, \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceApplicationManagerApplicationContainerManager}}
		\item[Provided interfaces:]~\iconprovided{}~\vpett{\nameref{int:OnlineServiceOnlineServiceApplicationManagerActuation}}, \iconprovided{}~\vpett{\nameref{int:OnlineServiceOnlineServiceApplicationManagerAppMgmt}}, \iconprovided{}~\vpett{\nameref{int:OnlineServiceOnlineServiceApplicationManagerApps}}, \iconprovided{}~\vpett{\nameref{int:OnlineServiceOnlineServiceApplicationManagerForwardData}}, \iconprovided{}~\vpett{\nameref{int:OnlineServiceOnlineServiceApplicationManagerIOAppMgmt}}
		\item[Required interfaces:]~\iconrequired{}~\vpett{\nameref{int:GatewayGatewayGatewayFacadeAppDeviceMgmt}}, \iconrequired{}~\vpett{\nameref{int:OtherDataDatabaseOtherDataDBAppMgmt}}, \iconrequired{}~\vpett{\nameref{int:GatewayGatewayGatewayFacadeAppMgmt}}, \iconrequired{}~\vpett{\nameref{int:OnlineServiceOnlineServiceInvoiceManagerInvoiceMgmt}}, \iconrequired{}~\vpett{\nameref{int:OnlineServiceOnlineServiceNotificationHandlerNotify}}, \iconrequired{}~\vpett{\nameref{int:OnlineServiceOnlineServiceDeviceDataSchedulerRequestData}}, \iconrequired{}~\vpett{\nameref{int:OnlineServiceOnlineServiceUserRolesManagerRoleMgmt}}, \iconrequired{}~\vpett{\nameref{int:OnlineServiceOnlineServiceTopologyManagerTopologyMgmt}}		
	\end{description}
\subsection{CustomerOgranisationClient}\label{comp:CustomerOgranisationClient}
	\begin{description}[noitemsep,nolistsep]
		\item[Responsibility:]~Represents the client used by a customer organisation. This is the user's dashboard.
		\item[Super-components:]~None
		\item[Sub-components:]~None
		\item[Provided interfaces:]~None
		\item[Required interfaces:]~\iconrequired{}~\vpett{\nameref{int:OnlineServiceOnlineServiceCustomerOrganisationFacadeSubscriptionMgmt}}		
	\end{description}
\subsection{CustomerOrganisationFacade}\label{comp:OnlineServiceOnlineServiceCustomerOrganisationFacade}
	\begin{description}[noitemsep,nolistsep]
		\item[Responsibility:]~Acts as an access point for CustomerOrganisationClients and handles all functionality that can be done by customer organisations.
		\item[Super-components:]~None
		\item[Sub-components:]~None
		\item[Provided interfaces:]~\iconprovided{}~\vpett{\nameref{int:OnlineServiceOnlineServiceCustomerOrganisationFacadeSubscriptionMgmt}}
		\item[Required interfaces:]~\iconrequired{}~\vpett{\nameref{int:OnlineServiceOnlineServiceApplicationManagerApps}}, \iconrequired{}~\vpett{\nameref{int:OnlineServiceOnlineServiceUserRolesManagerRoleMgmt}}, \iconrequired{}~\vpett{\nameref{int:OnlineServiceOnlineServiceSubscriptionManagerSubscriptionMgmt}}, \iconrequired{}~\vpett{\nameref{int:OnlineServiceOnlineServiceTopologyManagerTopologyMgmt}}		
	\end{description}
\subsection{DeviceDataConverter}\label{comp:OnlineServiceOnlineServiceDeviceDataConverter}
	\begin{description}[noitemsep,nolistsep]
		\item[Responsibility:]~The \vpett{\nameref{comp:OnlineServiceOnlineServiceDeviceDataConverter}} is resposible for converting pluggable device data in the data processing subsystem.
		\item[Super-components:]~None
		\item[Sub-components:]~None
		\item[Provided interfaces:]~\iconprovided{}~\vpett{\nameref{int:OnlineServiceOnlineServiceDeviceDataConverterDataConversion}}
		\item[Required interfaces:]~None		
	\end{description}
\subsection{DeviceDataScheduler}\label{comp:OnlineServiceOnlineServiceDeviceDataScheduler}
	\begin{description}[noitemsep,nolistsep]
		\item[Responsibility:]~Responsible for scheduling incoming read and write requests for pluggable device data. Monitors throughput of requests and switches between normal and overload mode when appropriate. Avoids starvation of any type of request.
		\item[Super-components:]~None
		\item[Sub-components:]~None
		\item[Provided interfaces:]~\iconprovided{}~\vpett{\nameref{int:OnlineServiceOnlineServiceDeviceDataSchedulerDeviceData}}, \iconprovided{}~\vpett{\nameref{int:OnlineServiceOnlineServiceDeviceDataSchedulerRequestData}}
		\item[Required interfaces:]~\iconrequired{}~\vpett{\nameref{int:PluggableDeviceDatabasePluggableDeviceDataDBDeviceData}}, \iconrequired{}~\vpett{\nameref{int:OnlineServiceOnlineServiceApplicationManagerForwardData}}		
	\end{description}
\subsection{DeviceDB}\label{comp:DeviceDatabaseDeviceDB}
	\begin{description}[noitemsep,nolistsep]
		\item[Responsibility:]~Contains all information related to devices in the system, but not pluggable device data such as sensor data or actuation statuses. The data includes information about pluggable devices, motes, gateways, topologies, access rights, etc.
		\item[Super-components:]~None
		\item[Sub-components:]~None
		\item[Provided interfaces:]~\iconprovided{}~\vpett{\nameref{int:DeviceDatabaseDeviceDBAccessRightsMgmt}}, \iconprovided{}~\vpett{\nameref{int:DeviceDatabaseDeviceDBDeviceMgmt}}, \iconprovided{}~\vpett{\nameref{int:DeviceDatabaseDeviceDBIODeviceMgmt}}, \iconprovided{}~\vpett{\nameref{int:DeviceDatabaseDeviceDBTopologyMgmt}}
		\item[Required interfaces:]~None		
	\end{description}
\subsection{DeviceManager}\label{comp:GatewayGatewayDeviceManager}
	\begin{description}[noitemsep,nolistsep]
		\item[Responsibility:]~Monitors connected/operational devices on a gateway. Sends notifications in case of hardware failure. Can send a command to disable or reactivate applications when necessary.
		\item[Super-components:]~None
		\item[Sub-components:]~None
		\item[Provided interfaces:]~\iconprovided{}~\vpett{\nameref{int:GatewayGatewayDeviceManagerDeviceMgmt}}
		\item[Required interfaces:]~\iconrequired{}~\vpett{\nameref{int:GatewayGatewayGatewayFacadeDeviceMgmt}}		
	\end{description}
\subsection{GatewayFacade}\label{comp:GatewayGatewayGatewayFacade}
	\begin{description}[noitemsep,nolistsep]
		\item[Responsibility:]~Main component on the gateway that allows different components to work
with each other. E.g. transmits heartbeats from motes to
\vpett{\nameref{comp:GatewayGatewayDeviceManager}}, transmits commands to shut down applications,
triggers notifications to be generated, ...
		\item[Super-components:]~None
		\item[Sub-components:]~None
		\item[Provided interfaces:]~\iconprovided{}~\vpett{\nameref{int:GatewayGatewayGatewayFacadeAppDeviceMgmt}}, \iconprovided{}~\vpett{\nameref{int:GatewayGatewayGatewayFacadeAppMgmt}}, \iconprovided{}~\vpett{\nameref{int:GatewayGatewayGatewayFacadeDeviceData}}, \iconprovided{}~\vpett{\nameref{int:GatewayGatewayGatewayFacadeDeviceMgmt}}, \iconprovided{}~\vpett{\nameref{int:GatewayGatewayGatewayFacadeHeartbeat}}
		\item[Required interfaces:]~\iconrequired{}~\vpett{\nameref{int:OnlineServiceOnlineServiceApplicationManagerAppMgmt}}, \iconrequired{}~\vpett{\nameref{int:GatewayGatewayGWApplicationContainerManagerAppMgmt}}, \iconrequired{}~\vpett{\nameref{int:OnlineServiceOnlineServiceDeviceDataConverterDataConversion}}, \iconrequired{}~\vpett{\nameref{int:OnlineServiceOnlineServiceDeviceDataSchedulerDeviceData}}, \iconrequired{}~\vpett{\nameref{int:MoteMoteFacadeDeviceMgmt}}, \iconrequired{}~\vpett{\nameref{int:GatewayGatewayDeviceManagerDeviceMgmt}}, \iconrequired{}~\vpett{\nameref{int:DeviceDatabaseDeviceDBDeviceMgmt}}, \iconrequired{}~\vpett{\nameref{int:OnlineServiceOnlineServiceNotificationHandlerNotify}}, \iconrequired{}~\vpett{\nameref{int:OnlineServiceOnlineServiceOtherFunctionality2Other}}, \iconrequired{}~\vpett{\nameref{int:OnlineServiceOnlineServiceTopologyManagerTopologyMgmt}}		
	\end{description}
\subsection{GWApplicationContainerManager}\label{comp:GatewayGatewayGWApplicationContainerManager}
	\begin{description}[noitemsep,nolistsep]
		\item[Responsibility:]~This component contains sanbox environments for application instances to execute in.
		\item[Super-components:]~None
		\item[Sub-components:]~None
		\item[Provided interfaces:]~\iconprovided{}~\vpett{\nameref{int:GatewayGatewayGWApplicationContainerManagerAppMgmt}}
		\item[Required interfaces:]~None		
	\end{description}
\subsection{InfrastructreOwnerClient}\label{comp:InfrastructreOwnerClient}
	\begin{description}[noitemsep,nolistsep]
		\item[Responsibility:]~Represents the client used by an infrastructure owner. This is the user's dashboard.
		\item[Super-components:]~None
		\item[Sub-components:]~None
		\item[Provided interfaces:]~None
		\item[Required interfaces:]~\iconrequired{}~\vpett{\nameref{int:OnlineServiceOnlineServiceInfrastructureOwnerFacadeAccessRights}}		
	\end{description}
\subsection{InfrastructureOwnerFacade}\label{comp:OnlineServiceOnlineServiceInfrastructureOwnerFacade}
	\begin{description}[noitemsep,nolistsep]
		\item[Responsibility:]~Acts as an access point for InfrastructureOwnerClients and handles all functionality that can be done by infrastructure owners.
		\item[Super-components:]~None
		\item[Sub-components:]~None
		\item[Provided interfaces:]~\iconprovided{}~\vpett{\nameref{int:OnlineServiceOnlineServiceInfrastructureOwnerFacadeAccessRights}}
		\item[Required interfaces:]~\iconrequired{}~\vpett{\nameref{int:OnlineServiceOnlineServiceAccessRightsManagerAccessRightsMgmt}}, \iconrequired{}~\vpett{\nameref{int:OnlineServiceOnlineServiceApplicationManagerIOAppMgmt}}, \iconrequired{}~\vpett{\nameref{int:OnlineServiceOnlineServiceInfrastructureOwnerManagerIOMgmt}}		
	\end{description}
\subsection{InfrastructureOwnerManager}\label{comp:OnlineServiceOnlineServiceInfrastructureOwnerManager}
	\begin{description}[noitemsep,nolistsep]
		\item[Responsibility:]~Responsible for all functionality related to infrastructure owners. E.g. looking up the devices they own, retrieving a list of customer organisations that they are associated to, etc.
		\item[Super-components:]~None
		\item[Sub-components:]~None
		\item[Provided interfaces:]~\iconprovided{}~\vpett{\nameref{int:OnlineServiceOnlineServiceInfrastructureOwnerManagerIOMgmt}}
		\item[Required interfaces:]~\iconrequired{}~\vpett{\nameref{int:DeviceDatabaseDeviceDBIODeviceMgmt}}, \iconrequired{}~\vpett{\nameref{int:OtherDataDatabaseOtherDataDBIOMgmt}}		
	\end{description}
\subsection{InvoiceManager}\label{comp:OnlineServiceOnlineServiceInvoiceManager}
	\begin{description}[noitemsep,nolistsep]
		\item[Responsibility:]~Responsible for all functionality related to access rights to invoicing.
E.g. creating invoices.
		\item[Super-components:]~None
		\item[Sub-components:]~None
		\item[Provided interfaces:]~\iconprovided{}~\vpett{\nameref{int:OnlineServiceOnlineServiceInvoiceManagerInvoiceMgmt}}
		\item[Required interfaces:]~\iconrequired{}~\vpett{\nameref{int:OtherDataDatabaseOtherDataDBInvoiceMgmt}}		
	\end{description}
\subsection{MoteFacade}\label{comp:MoteMoteFacade}
	\begin{description}[noitemsep,nolistsep]
		\item[Responsibility:]~Sends heartbeats to the \vpett{\nameref{comp:GatewayGatewayGatewayFacade}}. Includes a list
of connected pluggable devices in the heartbeats.
		\item[Super-components:]~None
		\item[Sub-components:]~None
		\item[Provided interfaces:]~\iconprovided{}~\vpett{\nameref{int:MoteMoteFacadeDeviceData}}, \iconprovided{}~\vpett{\nameref{int:MoteMoteFacadeDeviceMgmt}}
		\item[Required interfaces:]~\iconrequired{}~\vpett{\nameref{int:PuggableDevicePluggableDeviceFacadeActuate}}, \iconrequired{}~\vpett{\nameref{int:PuggableDevicePluggableDeviceFacadeConfig}}, \iconrequired{}~\vpett{\nameref{int:GatewayGatewayGatewayFacadeDeviceData}}, \iconrequired{}~\vpett{\nameref{int:GatewayGatewayGatewayFacadeHeartbeat}}, \iconrequired{}~\vpett{\nameref{int:PuggableDevicePluggableDeviceFacadeRequestData}}		
	\end{description}
\subsection{NotificationDeliveryService}\label{comp:NotificationDeliveryServiceNodeNotificationDeliveryService}
	\begin{description}[noitemsep,nolistsep]
		\item[Responsibility:]~{\colorbox{red!30}{\underline{Undefined}}}
		\item[Super-components:]~None
		\item[Sub-components:]~None
		\item[Provided interfaces:]~None
		\item[Required interfaces:]~None		
	\end{description}
\subsection{NotificationHandler}\label{comp:OnlineServiceOnlineServiceNotificationHandler}
	\begin{description}[noitemsep,nolistsep]
		\item[Responsibility:]~Responsible for generation, storage, and delivery of notifications based on users' preferred communication channel.
		\item[Super-components:]~None
		\item[Sub-components:]~None
		\item[Provided interfaces:]~\iconprovided{}~\vpett{\nameref{int:OnlineServiceOnlineServiceNotificationHandlerDeliveryMgmt}}, \iconprovided{}~\vpett{\nameref{int:OnlineServiceOnlineServiceNotificationHandlerNotify}}
		\item[Required interfaces:]~\iconrequired{}~\vpett{\nameref{int:NotificationDeliveryServiceNodeNotificationDeliveryServiceNotificationDeliveryMgmt}}, \iconrequired{}~\vpett{\nameref{int:OtherDataDatabaseOtherDataDBNotificationMgmt}}		
	\end{description}
\subsection{OtherDataDB}\label{comp:OtherDataDatabaseOtherDataDB}
	\begin{description}[noitemsep,nolistsep]
		\item[Responsibility:]~General database for data. For example, storage of data about notifications.
		\item[Super-components:]~None
		\item[Sub-components:]~None
		\item[Provided interfaces:]~\iconprovided{}~\vpett{\nameref{int:OtherDataDatabaseOtherDataDBAppMgmt}}, \iconprovided{}~\vpett{\nameref{int:OtherDataDatabaseOtherDataDBInvoiceMgmt}}, \iconprovided{}~\vpett{\nameref{int:OtherDataDatabaseOtherDataDBIOMgmt}}, \iconprovided{}~\vpett{\nameref{int:OtherDataDatabaseOtherDataDBNotificationMgmt}}, \iconprovided{}~\vpett{\nameref{int:OtherDataDatabaseOtherDataDBOther}}, \iconprovided{}~\vpett{\nameref{int:OtherDataDatabaseOtherDataDBSubscriptionMgmt}}, \iconprovided{}~\vpett{\nameref{int:OtherDataDatabaseOtherDataDBUserRoleMgmt}}
		\item[Required interfaces:]~None		
	\end{description}
\subsection{OtherFunctionality1}\label{comp:OnlineServiceOnlineServiceOtherFunctionality1}
	\begin{description}[noitemsep,nolistsep]
		\item[Responsibility:]~{\colorbox{red!30}{\underline{Undefined}}}
		\item[Super-components:]~None
		\item[Sub-components:]~None
		\item[Provided interfaces:]~\iconprovided{}~\vpett{\nameref{int:OnlineServiceOnlineServiceOtherFunctionality2Other}}
		\item[Required interfaces:]~\iconrequired{}~\vpett{\nameref{int:OtherDataDatabaseOtherDataDBOther}}, \iconrequired{}~\vpett{\nameref{int:PluggableDeviceDatabasePluggableDeviceDataDBOther}}		
	\end{description}
\subsection{OtherFunctionality2}\label{comp:OnlineServiceOnlineServiceOtherFunctionality2}
	\begin{description}[noitemsep,nolistsep]
		\item[Responsibility:]~{\colorbox{red!30}{\underline{Undefined}}}
		\item[Super-components:]~None
		\item[Sub-components:]~None
		\item[Provided interfaces:]~\iconprovided{}~\vpett{\nameref{int:OnlineServiceOnlineServiceOtherFunctionality2Other}}
		\item[Required interfaces:]~\iconrequired{}~\vpett{\nameref{int:OtherDataDatabaseOtherDataDBOther}}, \iconrequired{}~\vpett{\nameref{int:PluggableDeviceDatabasePluggableDeviceDataDBOther}}		
	\end{description}
\subsection{PluggableDeviceDataDB}\label{comp:PluggableDeviceDatabasePluggableDeviceDataDB}
	\begin{description}[noitemsep,nolistsep]
		\item[Responsibility:]~Database dedicated to pluggable device data only.
		\item[Super-components:]~None
		\item[Sub-components:]~None
		\item[Provided interfaces:]~\iconprovided{}~\vpett{\nameref{int:PluggableDeviceDatabasePluggableDeviceDataDBDeviceData}}, \iconprovided{}~\vpett{\nameref{int:PluggableDeviceDatabasePluggableDeviceDataDBOther}}
		\item[Required interfaces:]~None		
	\end{description}
\subsection{PluggableDeviceFacade}\label{comp:PuggableDevicePluggableDeviceFacade}
	\begin{description}[noitemsep,nolistsep]
		\item[Responsibility:]~Responsible for sending pluggable device data to \vpett{\nameref{comp:MoteMoteFacade}}. Needs to be initialised in order for the data to be used/stored.
		\item[Super-components:]~None
		\item[Sub-components:]~None
		\item[Provided interfaces:]~\iconprovided{}~\vpett{\nameref{int:PuggableDevicePluggableDeviceFacadeActuate}}, \iconprovided{}~\vpett{\nameref{int:PuggableDevicePluggableDeviceFacadeConfig}}, \iconprovided{}~\vpett{\nameref{int:PuggableDevicePluggableDeviceFacadeRequestData}}
		\item[Required interfaces:]~\iconrequired{}~\vpett{\nameref{int:MoteMoteFacadeDeviceData}}		
	\end{description}
\subsection{SubscriptionManager}\label{comp:OnlineServiceOnlineServiceSubscriptionManager}
	\begin{description}[noitemsep,nolistsep]
		\item[Responsibility:]~Responsible for all functionality related to access rights to subscriptions. E.g. retrieving the applications that a customer organisation can subscribe to, creating new subscriptions to ApplicationInstances, etc.
		\item[Super-components:]~None
		\item[Sub-components:]~None
		\item[Provided interfaces:]~\iconprovided{}~\vpett{\nameref{int:OnlineServiceOnlineServiceSubscriptionManagerSubscriptionMgmt}}
		\item[Required interfaces:]~\iconrequired{}~\vpett{\nameref{int:OnlineServiceOnlineServiceApplicationManagerApps}}, \iconrequired{}~\vpett{\nameref{int:OtherDataDatabaseOtherDataDBSubscriptionMgmt}}		
	\end{description}
\subsection{TopologyManager}\label{comp:OnlineServiceOnlineServiceTopologyManager}
	\begin{description}[noitemsep,nolistsep]
		\item[Responsibility:]~Responsible for all functionality related to topology. E.g. Adding a new mote to the topology of an infrastructure, checking whether or not all devices used by an application are active in the topology, etc.
		\item[Super-components:]~None
		\item[Sub-components:]~None
		\item[Provided interfaces:]~\iconprovided{}~\vpett{\nameref{int:OnlineServiceOnlineServiceTopologyManagerTopologyMgmt}}
		\item[Required interfaces:]~\iconrequired{}~\vpett{\nameref{int:DeviceDatabaseDeviceDBTopologyMgmt}}		
	\end{description}
\subsection{UserRolesManager}\label{comp:OnlineServiceOnlineServiceUserRolesManager}
	\begin{description}[noitemsep,nolistsep]
		\item[Responsibility:]~Responsible for all functionality related to access rights to user roles. E.g. retrieving the user roles that are mandatory for a certain application, updating the roles assigned to users, etc.
		\item[Super-components:]~None
		\item[Sub-components:]~None
		\item[Provided interfaces:]~\iconprovided{}~\vpett{\nameref{int:OnlineServiceOnlineServiceUserRolesManagerRoleMgmt}}
		\item[Required interfaces:]~\iconrequired{}~\vpett{\nameref{int:OtherDataDatabaseOtherDataDBUserRoleMgmt}}		
	\end{description}

% END COMPONENTS

% INTERFACES
\section{Interfaces} \label{sec:interfaces}
  %%%%%%%% AccessRights
  \subsection{AccessRights}\label{int:OnlineServiceOnlineServiceInfrastructureOwnerFacadeAccessRights}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceInfrastructureOwnerFacade}}
      \item[Required by:] \iconcomponent{}~\vpett{\nameref{comp:InfrastructreOwnerClient}}
      \item[Operations:] ~
    \begin{itemize}[noitemsep,nolistsep,leftmargin=-.25cm]
      \item \textsf{ configureDevice(\ref{data:DataTypesPluggableDeviceID} pID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Returns a map of AccessRights and the IDs of customer organisations that have those AccessRights.
\item Created for: UC9.3 - UC9.4
        \end{itemize}
      \item \textsf{List\textless{}\ref{data:DataTypesPluggableDeviceInfo}\textgreater{} getAccessRights(int infrastructureOwnerID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Returns a list of PluggableDeviceInfo to display so an infrastructure owner can select a device to configure access rights.
\item Created for: UC9.1
        \end{itemize}
      \item \textsf{void updateAccessRights()}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Updates the access rights on a certain pluggable device for a group of customer organisations.
\item Created for: UC9.6
        \end{itemize}
    \end{itemize}
    \end{description}

  %%%%%%%% AccessRightsMgmt
  \subsection{AccessRightsMgmt}\label{int:DeviceDatabaseDeviceDBAccessRightsMgmt}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] \iconcomponent{}~\vpett{\nameref{comp:DeviceDatabaseDeviceDB}}
      \item[Required by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceAccessRightsManager}}
      \item[Operations:] ~
    \begin{itemize}[noitemsep,nolistsep,leftmargin=-.25cm]
      \item \textsf{ getCustomerOrganisationsRights(\ref{data:DataTypesPluggableDeviceID} pID, List\textless{}int\textgreater{} custOrgIDs)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Returns a map of AccessRights and the IDs of customer organisations that have those AccessRights on a certain pluggable device.
\item Created for: UC9.4
        \end{itemize}
      \item \textsf{void updateAccessRights()}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Updates the access rights on a certain pluggable device for a group of customer organisations.
\item Created for: UC9.7
        \end{itemize}
    \end{itemize}
    \end{description}

  %%%%%%%% AccessRightsMgmt
  \subsection{AccessRightsMgmt}\label{int:OnlineServiceOnlineServiceAccessRightsManagerAccessRightsMgmt}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceAccessRightsManager}}
      \item[Required by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceInfrastructureOwnerFacade}}
      \item[Operations:] ~
    \begin{itemize}[noitemsep,nolistsep,leftmargin=-.25cm]
      \item \textsf{ getCustomerOrganisationsRights(\ref{data:DataTypesPluggableDeviceID} pID, List\textless{}int\textgreater{} custOrgIDs)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Returns a map of AccessRights and the IDs of customer organisations that have those AccessRights on a certain pluggable device.
\item Created for: UC9.4
        \end{itemize}
      \item \textsf{void updateAccessRights()}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Updates the access rights on a certain pluggable device for a group of customer organisations.
\item Created for: UC9.7
        \end{itemize}
    \end{itemize}
    \end{description}

  %%%%%%%% Actuate
  \subsection{Actuate}\label{int:PuggableDevicePluggableDeviceFacadeActuate}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] \iconcomponent{}~\vpett{\nameref{comp:PuggableDevicePluggableDeviceFacade}}
      \item[Required by:] \iconcomponent{}~\vpett{\nameref{comp:MoteMoteFacade}}
      \item[Operations:] ~
    \begin{itemize}[noitemsep,nolistsep,leftmargin=-.25cm]
      \item \textsf{void sendActuationCommand(string commandName)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Send an actuation command to the actuator. Sending an unknown actuation command has no effect.
        \end{itemize}
    \end{itemize}
    \end{description}

  %%%%%%%% Actuation
  \subsection{Actuation}\label{int:OnlineServiceOnlineServiceApplicationManagerActuation}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceApplicationManagerActuationCommandConstructor}}, \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceApplicationManager}}
      \item[Required by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceApplicationFacade}}
      \item[Operations:] ~
% no operations
    \end{description}

  %%%%%%%% AppData
  \subsection{AppData}\label{int:OnlineServiceOnlineServiceApplicationFacadeAppData}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceApplicationFacade}}
      \item[Required by:] \iconcomponent{}~\vpett{\nameref{comp:ApplicationClient}}
      \item[Operations:] ~
% no operations
    \end{description}

  %%%%%%%% AppDeviceMgmt
  \subsection{AppDeviceMgmt}\label{int:GatewayGatewayGatewayFacadeAppDeviceMgmt}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] \iconcomponent{}~\vpett{\nameref{comp:GatewayGatewayGatewayFacade}}
      \item[Required by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceApplicationManagerActuationCommandConstructor}}, \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceApplicationManager}}
      \item[Operations:] ~
    \begin{itemize}[noitemsep,nolistsep,leftmargin=-.25cm]
      \item \textsf{bool areEssentialDevicesOperational(int applicationID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Returns true if all essential devices for the application with id "applicationID" are operational.
\item Created for: UC18
        \end{itemize}
      \item \textsf{void setPluggableDevicesRequirements(int applicationID, List\textless{}\ref{data:DataTypesPluggableDeviceInfo}\textgreater{} devices)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Sets an application's requirements for pluggable devices.
\item Created for: Av3: "Application providers can design their applications such that they explicitly require redundancy in the available pluggable devices." \\
TODO: update this with Relationship type?
        \end{itemize}
    \end{itemize}
    \end{description}

  %%%%%%%% AppInstanceMgmt
  \subsection{AppInstanceMgmt}\label{int:OnlineServiceOnlineServiceApplicationManagerAppInstanceMgmt}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceApplicationManagerApplicationContainer}}
      \item[Required by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceApplicationManagerApplicationContainerManager}}, \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceApplicationManagerApplicationContainerMonitor}}
      \item[Operations:] ~
% no operations
    \end{description}

  %%%%%%%% AppMgmt
  \subsection{AppMgmt}\label{int:OtherDataDatabaseOtherDataDBAppMgmt}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] \iconcomponent{}~\vpett{\nameref{comp:OtherDataDatabaseOtherDataDB}}
      \item[Required by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceApplicationManager}}
      \item[Operations:] ~
    \begin{itemize}[noitemsep,nolistsep,leftmargin=-.25cm]
      \item \textsf{void activateApplication(int applicationInstanceID, string status)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Sets an ApplicationInstance's status in the \vpett{\nameref{comp:OtherDataDatabaseOtherDataDB}} to 'active'.
\item Created for: UC17.4, U2 - easy applications
        \end{itemize}
      \item \textsf{int createNewApplicationInstance(int custOrgID, int applicationID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Creates a new ApplicationInstance for an application for a customer organisation and returns its id.
\item Created for: UC19.4, U2 - easy applications
        \end{itemize}
      \item \textsf{List\textless{}\ref{data:DataTypesApplication}\textgreater{} getApplications()}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Returns a list of applications in the system.
\item Created for: UC19.2, U2 - easy applications
        \end{itemize}
      \item \textsf{List\textless{}int\textgreater{} getApplicationsForDevice()}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Returns a list of applications that can use the device with id "pID".
\item Created for: UC11: the system looks up the list of applications that use the pluggable device
        \end{itemize}
      \item \textsf{List\textless{}\ref{data:DataTypesPluggableDeviceID}\textgreater{} getDevicesForApplication(int applicationInstanceID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Returns a list of PluggableDeviceID of pluggable devices that an ApplicationInstance can use.
\item Created for: UC17.2, U2 - easy applications
        \end{itemize}
      \item \textsf{string getInstallationInstructions(int applicationID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Returns the installation instructions of a certain application. If there are no installation instructions set, returns an empty string.
\item Created for: UC17.6, U2 - easy applications
        \end{itemize}
      \item \textsf{List\textless{}\ref{data:DataTypesRoomTopology}\textgreater{} getNecessaryDevicesAndTopologyConfigurations(int applicationID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Returns a list of RoomTopology which is a minimal requirement for a certain application to run. This can used to display the requirements to a user or to check if requirements are fulfilled.
\item Created for: UC19.5, U2 - easy applications
        \end{itemize}
      \item \textsf{void updateApplication(\ref{data:DataTypesApplicationInstance} instance)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Updates an application in the database (e.g. change state to 'inactive').
\item Created for: UC18, Av3: automatic suspension/reactivation of applications.
        \end{itemize}
      \item \textsf{void updateApplicationDevicesSettings(int applicationInstanceID, List\textless{}\ref{data:DataTypesPluggableDeviceID}\textgreater{} devices, List\textless{}\ref{data:DataTypesRelationship}\textgreater{} relationships)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Updates an ApplicationInstance's device settings. This includes which devices the instance can use and which relationships exist between those devices.
\item Created for: UC19.6, U2 - easy applications
        \end{itemize}
      \item \textsf{void updateCriticality(int applicationInstanceID, int isCritical)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Updates the criticality of an ApplicationInstance.
\item Created for: UC19.11, U2 - easy applications
        \end{itemize}
      \item \textsf{void updateSubscription(\ref{data:DataTypesSubscription} subscription)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Updates a subscription in the database (e.g. change state to 'disabled').
\item Created for: UC18
        \end{itemize}
    \end{itemize}
    \end{description}

  %%%%%%%% AppMgmt
  \subsection{AppMgmt}\label{int:GatewayGatewayGatewayFacadeAppMgmt}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] \iconcomponent{}~\vpett{\nameref{comp:GatewayGatewayGatewayFacade}}
      \item[Required by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceApplicationManager}}
      \item[Operations:] ~
    \begin{itemize}[noitemsep,nolistsep,leftmargin=-.25cm]
      \item \textsf{void activateApplicationInstance(int applicationInstanceID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Activates an ApplicationInstance that is running on the gateway.
\item Created for: UC17.3, U2 - easy applications
        \end{itemize}
    \end{itemize}
    \end{description}

  %%%%%%%% AppMgmt
  \subsection{AppMgmt}\label{int:GatewayGatewayGWApplicationContainerManagerAppMgmt}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] \iconcomponent{}~\vpett{\nameref{comp:GatewayGatewayGWApplicationContainerManager}}
      \item[Required by:] \iconcomponent{}~\vpett{\nameref{comp:GatewayGatewayGatewayFacade}}
      \item[Operations:] ~
    \begin{itemize}[noitemsep,nolistsep,leftmargin=-.25cm]
      \item \textsf{void activateApplicationInstance(int applicationInstanceID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Activates an ApplicationInstance that is running on the gateway.
\item Created for: UC17.3, U2 - easy applications
        \end{itemize}
    \end{itemize}
    \end{description}

  %%%%%%%% AppMgmt
  \subsection{AppMgmt}\label{int:OnlineServiceOnlineServiceApplicationManagerAppMgmt}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceApplicationManager}}
      \item[Required by:] \iconcomponent{}~\vpett{\nameref{comp:GatewayGatewayGatewayFacade}}
      \item[Operations:] ~
    \begin{itemize}[noitemsep,nolistsep,leftmargin=-.25cm]
      \item \textsf{void activateApplicationInstance(int applicationInstanceID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Activates a new instance of an application.
\item Created for: UC18, Av3: automatic suspension/reactivation of applications.
        \end{itemize}
      \item \textsf{void checkApplicationsForActivationForInfrastructureOwner(int infrastructureOwnerID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Checks and activates applications which can now execute again. The applications checked are those that are subscribed to by customers organisations associated to the given infrastructure owner.
\item Created for: UC17, UC6.3 - reintroduced device
        \end{itemize}
      \item \textsf{void deactivateApplicationInstance(int applicationInstanceID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Deactivates a running instance of an application.
\item Created for: UC18, Av3: automatic suspension/reactivation of applications.
        \end{itemize}
      \item \textsf{void updateApplicationDevicesSettings(int applicationInstanceID, List\textless{}\ref{data:DataTypesPluggableDeviceID}\textgreater{} devices, List\textless{}\ref{data:DataTypesRelationship}\textgreater{} relationships)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Updates an ApplicationInstance's device settings. This includes which devices the instance can use and which relationships exist between those devices.
\item Created for: UC19.6, U2 - easy applications
        \end{itemize}
    \end{itemize}
    \end{description}

  %%%%%%%% AppMgmt
  \subsection{AppMgmt}\label{int:OnlineServiceOnlineServiceApplicationManagerApplicationContainerManagerAppMgmt}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] None
      \item[Required by:] None
      \item[Operations:] ~
% no operations
    \end{description}

  %%%%%%%% Apps
  \subsection{Apps}\label{int:OnlineServiceOnlineServiceApplicationManagerApps}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceApplicationManager}}
      \item[Required by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceApplicationFacade}}, \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceCustomerOrganisationFacade}}, \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceSubscriptionManager}}
      \item[Operations:] ~
    \begin{itemize}[noitemsep,nolistsep,leftmargin=-.25cm]
      \item \textsf{void activateApplication(int applicationInstanceID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Activates an ApplicationInstance.
\item Created for: UC19.14, U2 - easy applications
        \end{itemize}
      \item \textsf{int createNewApplicationInstance(int custOrgID, int applicationID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Creates a new ApplicationInstance for an application for a customer organisation and returns its id.
\item Created for: UC19.4, U2 - easy applications
        \end{itemize}
      \item \textsf{List\textless{}\ref{data:DataTypesApplication}\textgreater{} getApplications()}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Returns a list of applications in the system.
\item Created for: UC19.2, U2 - easy applications
        \end{itemize}
      \item \textsf{List\textless{}\ref{data:DataTypesRoomTopology}\textgreater{} getNecessaryDevicesAndTopologyConfigurations(int applicationID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Returns a list of RoomTopology which is a minimal requirement for a certain application to run. This can used to display the requirements to a user or to check if requirements are fulfilled.
\item Created for: UC19.5, U2 - easy applications
        \end{itemize}
      \item \textsf{void updateCriticality(int applicationInstanceID, boolean isCritical)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Updates the criticality of an ApplicationInstance.
\item Created for: UC19.11, U2 - easy applications
        \end{itemize}
    \end{itemize}
    \end{description}

  %%%%%%%% Config
  \subsection{Config}\label{int:PuggableDevicePluggableDeviceFacadeConfig}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] \iconcomponent{}~\vpett{\nameref{comp:PuggableDevicePluggableDeviceFacade}}
      \item[Required by:] \iconcomponent{}~\vpett{\nameref{comp:MoteMoteFacade}}
      \item[Operations:] ~
    \begin{itemize}[noitemsep,nolistsep,leftmargin=-.25cm]
      \item \textsf{Map\textless{}String, String\textgreater{} getConfig()}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Returns the current configuration of a pluggable device as a parameter-value map.
        \end{itemize}
      \item \textsf{boolean setConfig()}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Set the given configuration parameters of the pluggable device to the given values. Setting unknown parameters on a pluggable device (e.g., 'noise threshold' -> '3' on a light sensor) has no effect.
\item Created for: Given constraint, UC11: pluggable device needs to be initialised, M1: pluggable device must be able to be initialised
        \end{itemize}
    \end{itemize}
    \end{description}

  %%%%%%%% DataConversion
  \subsection{DataConversion}\label{int:OnlineServiceOnlineServiceDeviceDataConverterDataConversion}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceDeviceDataConverter}}
      \item[Required by:] \iconcomponent{}~\vpett{\nameref{comp:GatewayGatewayGatewayFacade}}
      \item[Operations:] ~
    \begin{itemize}[noitemsep,nolistsep,leftmargin=-.25cm]
      \item \textsf{\ref{data:DataTypesDeviceData} convert(\ref{data:DataTypesPluggableDeviceID} pID, \ref{data:DataTypesDeviceData} data, string type)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Converts pluggable device data into other pluggable device data that contains the same information in a different type.
\item Created for: M1: data processing subsystem should be extended with relevant data conversions
        \end{itemize}
    \end{itemize}
    \end{description}

  %%%%%%%% DeliveryMgmt
  \subsection{DeliveryMgmt}\label{int:OnlineServiceOnlineServiceNotificationHandlerDeliveryMgmt}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceNotificationHandler}}
      \item[Required by:] None
      \item[Operations:] ~
    \begin{itemize}[noitemsep,nolistsep,leftmargin=-.25cm]
      \item \textsf{void acknowledgement(int notificationID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Sends an acknowledgement to the system for a certain notification to denote that a notification has been received.
\item Created for: UC15
        \end{itemize}
    \end{itemize}
    \end{description}

  %%%%%%%% DeviceData
  \subsection{DeviceData}\label{int:PluggableDeviceDatabasePluggableDeviceDataDBDeviceData}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] \iconcomponent{}~\vpett{\nameref{comp:PluggableDeviceDatabasePluggableDeviceDataDB}}
      \item[Required by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceDeviceDataScheduler}}
      \item[Operations:] ~
    \begin{itemize}[noitemsep,nolistsep,leftmargin=-.25cm]
      \item \textsf{List\textless{}\ref{data:DataTypesDeviceData}\textgreater{} getData(\ref{data:DataTypesPluggableDeviceID} pID, \ref{data:DataTypesDateTime} from, \ref{data:DataTypesDateTime} to)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Returns data from a specific device in a certain time period.
\item Created for: P2: lookup queries
        \end{itemize}
      \item \textsf{void rcvData(\ref{data:DataTypesPluggableDeviceID} pID, \ref{data:DataTypesDeviceData} data)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Sends pluggable device data to the DB to be stored.
\item Created for: UC11, P2: storing new pluggable data
        \end{itemize}
    \end{itemize}
    \end{description}

  %%%%%%%% DeviceData
  \subsection{DeviceData}\label{int:MoteMoteFacadeDeviceData}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] \iconcomponent{}~\vpett{\nameref{comp:MoteMoteFacade}}
      \item[Required by:] \iconcomponent{}~\vpett{\nameref{comp:PuggableDevicePluggableDeviceFacade}}
      \item[Operations:] ~
    \begin{itemize}[noitemsep,nolistsep,leftmargin=-.25cm]
      \item \textsf{void rcvData()}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Propagates pluggable device data to the connected gateway by calling rcvData on the gateway. (Initiated by the device).
\item Created for: UC11, P2: storing new pluggable data
        \end{itemize}
      \item \textsf{void rcvDataCallback(\ref{data:DataTypesPluggableDeviceID} pID, \ref{data:DataTypesDeviceData} data, int requestID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Propagates pluggable device data to the connected gateway by calling rcvData on the gateway. (Callback of getDataAsync).
\item Created for: UC11, P2: storing new pluggable data
        \end{itemize}
    \end{itemize}
    \end{description}

  %%%%%%%% DeviceData
  \subsection{DeviceData}\label{int:GatewayGatewayGatewayFacadeDeviceData}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] \iconcomponent{}~\vpett{\nameref{comp:GatewayGatewayGatewayFacade}}
      \item[Required by:] \iconcomponent{}~\vpett{\nameref{comp:MoteMoteFacade}}
      \item[Operations:] ~
    \begin{itemize}[noitemsep,nolistsep,leftmargin=-.25cm]
      \item \textsf{void rcvData(\ref{data:DataTypesPluggableDeviceID} pID, \ref{data:DataTypesDeviceData} data)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Provides pluggable device data to the gateway (Initiated by the device).
        \end{itemize}
      \item \textsf{void rcvDataCallback(\ref{data:DataTypesPluggableDeviceID} pID, \ref{data:DataTypesDeviceData} data, int requestID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Provides device data to the gateway (Callback of getDataAsync).
        \end{itemize}
    \end{itemize}
    \end{description}

  %%%%%%%% DeviceData
  \subsection{DeviceData}\label{int:OnlineServiceOnlineServiceDeviceDataSchedulerDeviceData}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceDeviceDataScheduler}}
      \item[Required by:] \iconcomponent{}~\vpett{\nameref{comp:GatewayGatewayGatewayFacade}}
      \item[Operations:] ~
    \begin{itemize}[noitemsep,nolistsep,leftmargin=-.25cm]
      \item \textsf{void rcvData(\ref{data:DataTypesPluggableDeviceID} pID, \ref{data:DataTypesDeviceData} data)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Sends pluggable device data to the scheduler to be processed.
\item Created for: UC11, P2: storing new pluggable data
        \end{itemize}
    \end{itemize}
    \end{description}

  %%%%%%%% DeviceMgmt
  \subsection{DeviceMgmt}\label{int:MoteMoteFacadeDeviceMgmt}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] \iconcomponent{}~\vpett{\nameref{comp:MoteMoteFacade}}
      \item[Required by:] \iconcomponent{}~\vpett{\nameref{comp:GatewayGatewayGatewayFacade}}
      \item[Operations:] ~
    \begin{itemize}[noitemsep,nolistsep,leftmargin=-.25cm]
      \item \textsf{List\textless{}\ref{data:DataTypesPluggableDeviceInfo}\textgreater{} getConnectedDevices()}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Effect: Returns a list of information about devices that are connected to the mote.
\item Created for: UC18
\item Tradeoff: send PluggableDeviceID instead of DeviceInfo. If you send DeviceInfo, then \vpett{\nameref{comp:OnlineServiceOnlineServiceApplicationManager}} does not have to fetch this info. If you send PluggableDeviceID's, then less bandwidth is used and the Gateways do less work.
        \end{itemize}
      \item \textsf{void setConfig(\ref{data:DataTypesPluggableDeviceID} pID, Map\textless{}String, String\textgreater{} config)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Set the given configuration parameters of a PluggableDevice to the given values. Setting unknown parameters on a PluggableDevice has no effect. \\
\item Created for: UC11: pluggable device needs to be initialised, M1: pluggable device must be able to be initialised
        \end{itemize}
    \end{itemize}
    \end{description}

  %%%%%%%% DeviceMgmt
  \subsection{DeviceMgmt}\label{int:DeviceDatabaseDeviceDBDeviceMgmt}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] \iconcomponent{}~\vpett{\nameref{comp:DeviceDatabaseDeviceDB}}
      \item[Required by:] \iconcomponent{}~\vpett{\nameref{comp:GatewayGatewayGatewayFacade}}
      \item[Operations:] ~
    \begin{itemize}[noitemsep,nolistsep,leftmargin=-.25cm]
      \item \textsf{void addDevice(\ref{data:DataTypesPluggableDeviceID} pID, \ref{data:DataTypesPluggableDeviceType} type, Map\textless{}string, string\textgreater{} configurations, int moteID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Adds a new pluggable device in the \vpett{\nameref{comp:DeviceDatabaseDeviceDB}} and adds a reference to a mote. The device's status is 'uninitialised' by default and it's current configurations (which are now the default configurations) are stored as well. If the device already exists, removes the data first (in case the device is plugged into a different mote or on a different network).
\item Created for: UC6.3, U2 - easy pluggable device installation
        \end{itemize}
      \item \textsf{int addMote(\ref{data:DataTypesMoteInfo} mote, int gatewayID, \ref{data:DataTypesIPAddress} moteIPAddress)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Adds a new mote in the \vpett{\nameref{comp:DeviceDatabaseDeviceDB}} along with an IP address and a reference to a gateway. Returns the DB id for the mote.
\item Created for: UC4.3, U2 - easy mote installation
        \end{itemize}
      \item \textsf{Map\textless{}string, string\textgreater{} getConfigDB(\ref{data:DataTypesPluggableDeviceID} pID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Gets the last set configurations of a pluggable device from the \vpett{\nameref{comp:DeviceDatabaseDeviceDB}}.
\item Created for: UC6.3 - reintroduced device
        \end{itemize}
      \item \textsf{void reactivateDevice(\ref{data:DataTypesPluggableDeviceID} pID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Changes the status of a pluggable device to 'active'.
\item Created for: UC6.3 - reintroduced device
        \end{itemize}
      \item \textsf{void reactivateMote(int moteID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Changes the status of the mote with DB id 'moteID' to 'active'.
\item Created for: U2 - Reintroducing a previously known mote should not require any conguration.
        \end{itemize}
      \item \textsf{void registerGateway(int gatewayID, \ref{data:DataTypesIPAddress} address)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Sets a gateway's status to 'active' and updates its IP address.
\item Created for: U2 - gateway installation
        \end{itemize}
    \end{itemize}
    \end{description}

  %%%%%%%% DeviceMgmt
  \subsection{DeviceMgmt}\label{int:GatewayGatewayDeviceManagerDeviceMgmt}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] \iconcomponent{}~\vpett{\nameref{comp:GatewayGatewayDeviceManager}}
      \item[Required by:] \iconcomponent{}~\vpett{\nameref{comp:GatewayGatewayGatewayFacade}}
      \item[Operations:] ~
    \begin{itemize}[noitemsep,nolistsep,leftmargin=-.25cm]
      \item \textsf{bool areEssentialDevicesOperational(int applicationID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Returns true if all essential devices for the application with id "applicationID" are operational.
\item Created for: UC18
        \end{itemize}
      \item \textsf{void heartbeat(int moteID, List\textless{}\ref{data:DataTypesPluggableDeviceInfo}\textgreater{} devicesmeter)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Sends a heartbeat from a mote to check/update timers for operational devices.
\item Created for: UC14, Av3: failure detection
        \end{itemize}
      \item \textsf{bool isDeviceInitialised(\ref{data:DataTypesPluggableDeviceID} pID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Returns true if the device with id "pID" has been initialized.
\item Created for: UC11: pluggable device needs to be initialised, M1: pluggable device must be able to be initialised
\item TODO: need this check? is 'initialized' status stored in DB or on gateways? or both?
        \end{itemize}
      \item \textsf{void setPluggableDevicesRequirements(int applicationID, List\textless{}\ref{data:DataTypesPluggableDeviceInfo}\textgreater{} devices)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Sets an application's requirements for pluggable devices.
\item Created for: Av3: "Application providers can design their applications such that they explicitly require redundancy in the available pluggable devices."
        \end{itemize}
    \end{itemize}
    \end{description}

  %%%%%%%% DeviceMgmt
  \subsection{DeviceMgmt}\label{int:GatewayGatewayGatewayFacadeDeviceMgmt}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] \iconcomponent{}~\vpett{\nameref{comp:GatewayGatewayGatewayFacade}}
      \item[Required by:] \iconcomponent{}~\vpett{\nameref{comp:GatewayGatewayDeviceManager}}
      \item[Operations:] ~
    \begin{itemize}[noitemsep,nolistsep,leftmargin=-.25cm]
      \item \textsf{void addDevice(\ref{data:DataTypesPluggableDeviceID} pID, \ref{data:DataTypesPluggableDeviceType} type, Map\textless{}string, string\textgreater{} configurations, int moteID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Adds a new pluggable device in the \vpett{\nameref{comp:DeviceDatabaseDeviceDB}} and adds a reference to a mote. The device's status is 'uninitialised' by default and it's current configurations (which are now the default configurations) are stored as well. If the device already exists, removes the data first (in case the device is plugged into a different mote or on a different network). \\
Adds a new pluggable device to the topology of the infrastructure owner and links it to a mote. The device gets the mote's location by default. If the device is already linked to another mote, overwrites that link. \\
Notifies the infrastructure owner that owns the gateway that the pluggable device was detected.
\item Created for: UC6.3, U2 - easy pluggable device installation
        \end{itemize}
      \item \textsf{int addMote(\ref{data:DataTypesMoteInfo} mote, int gatewayID, \ref{data:DataTypesIPAddress} moteIPAddress)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Adds a new mote in the \vpett{\nameref{comp:DeviceDatabaseDeviceDB}} along with an IP address and a reference to a gateway. Returns the DB id for the mote. \\
Adds a new mote to the topology of the infrastructure owner. The mote is linked to a gateway and gets status 'unplaced' by default. \\
Notifies the infrastructure owner that owns the gateway that a new mote is available for conguration in the topology.
\item Created for: UC4.3, U2 - easy mote installation
        \end{itemize}
      \item \textsf{void checkApplicationsForActivationForInfrastructureOwner(int infrastructureOwnerID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Checks and activates applications which can now execute again. The applications checked are those that are subscribed to by customers organisations associated to the given infrastructure owner.
\item Created for: UC17, UC6.3 - reintroduced device
        \end{itemize}
      \item \textsf{void deactivateApplicationInstance(int applicationInstanceID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Deactivates a certain application. This could happen when mandatory pluggable devices for the application are missing.
\item Created for: Av3: automatic suspension/reactivation of applications.
        \end{itemize}
      \item \textsf{Map\textless{}string, string\textgreater{} getConfigDB(\ref{data:DataTypesPluggableDeviceID} pID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Gets the last set configurations of a pluggable device from the \vpett{\nameref{comp:DeviceDatabaseDeviceDB}}.
\item Created for: UC6.3 - reintroduced device
        \end{itemize}
      \item \textsf{List\textless{}\ref{data:DataTypesPluggableDeviceInfo}\textgreater{} getConnectedDevices()}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Returns a list of information about devices that are connected to the gateway.
\item Created for: UC18
\item Tradeoff: send PluggableDeviceID instead of DeviceInfo. If you send DeviceInfo, then \vpett{\nameref{comp:OnlineServiceOnlineServiceApplicationManager}} does not have to fetch this info. If you send PluggableDeviceID's, then less bandwidth is used and the Gateways do less work.
        \end{itemize}
      \item \textsf{void pluggableDevicePersisentFailure()}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Lets the gateway know that a timer for pluggable device or mote has expired. This will generate a notification for an infrastructure owner.
\item Created for: Av3: The infrastructure owner should be notified of any persistent pluggable device or mote failures.
        \end{itemize}
      \item \textsf{void pluggableDevicePluggedIn(Map\textless{}string, string\textgreater{} mInfo, \ref{data:DataTypesPluggableDeviceID} pID, \ref{data:DataTypesPluggableDeviceType} type)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Notifies the gateway that a new pluggable device of the given type is connected to the mote.
        \end{itemize}
      \item \textsf{void pluggableDeviceRemoved(\ref{data:DataTypesPluggableDeviceID} pID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Notifies the gateway that a pluggable device is removed.
        \end{itemize}
      \item \textsf{void reactivateApplicationInstance(int applicationInstanceID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Reactivate an application instance. This could happen automatically after a broken sensor has been replaced.
\item Created for: Av3: automatic suspension/reactivation of applications.
        \end{itemize}
      \item \textsf{void reactivateDevice(\ref{data:DataTypesPluggableDeviceID} pID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Changes the status of a pluggable device to 'active'. \\
Changes the status of a pluggable device in the topology to 'placed'. \\
Notifies the infrastructure owner that owns the gateway that the pluggable device was detected and reactivated.
\item Created for: UC6.3 - reintroduced device
        \end{itemize}
      \item \textsf{void reactivateMote(int moteID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Changes the status of the mote with DB id 'moteID' to 'active'. \\
Changes the status of the mote in the topology to 'placed'. \\
Notifies the infrastructure owner that owns the gateway that the mote was detected and reactivated.
\item Created for: U2 - Reintroducing a previously known mote should not require any conguration.
        \end{itemize}
      \item \textsf{void setConfig(\ref{data:DataTypesPluggableDeviceID} pID, Map\textless{}String, String\textgreater{} config)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Set the given configuration parameters of a PluggableDevice to the given values. Setting unknown parameters on a PluggableDevice has no effect. \\
\item Created for: UC11: pluggable device needs to be initialised, M1: pluggable device must be able to be initialised
        \end{itemize}
    \end{itemize}
    \end{description}

  %%%%%%%% DeviceMgmt
  \subsection{DeviceMgmt}\label{int:OnlineServiceOnlineServiceApplicationFacadeDeviceMgmt}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceApplicationFacade}}
      \item[Required by:] \iconcomponent{}~\vpett{\nameref{comp:ApplicationClient}}
      \item[Operations:] ~
% no operations
    \end{description}

  %%%%%%%% ForwardData
  \subsection{ForwardData}\label{int:OnlineServiceOnlineServiceApplicationManagerForwardData}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceApplicationManager}}
      \item[Required by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceDeviceDataScheduler}}
      \item[Operations:] ~
    \begin{itemize}[noitemsep,nolistsep,leftmargin=-.25cm]
      \item \textsf{List\textless{}int\textgreater{} getApplicationsForDevice(\ref{data:DataTypesPluggableDeviceID} pID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Returns a list of application instances that can use the device with id "pID". \\
\item Created for: UC11: the system looks up the list of applications that use the pluggable device
        \end{itemize}
      \item \textsf{void rcvData(\ref{data:DataTypesPluggableDeviceID} pID, \ref{data:DataTypesDeviceData} data)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Sends pluggable device data to an application that wants to use it \\
\item Created for: UC11: system relays data to applications
        \end{itemize}
    \end{itemize}
    \end{description}

  %%%%%%%% Heartbeat
  \subsection{Heartbeat}\label{int:GatewayGatewayGatewayFacadeHeartbeat}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] \iconcomponent{}~\vpett{\nameref{comp:GatewayGatewayGatewayFacade}}
      \item[Required by:] \iconcomponent{}~\vpett{\nameref{comp:MoteMoteFacade}}
      \item[Operations:] ~
    \begin{itemize}[noitemsep,nolistsep,leftmargin=-.25cm]
      \item \textsf{void heartbeat(Map\textless{}string, string\textgreater{} moteInfo, List\textless{}Tuple\textless{}\ref{data:DataTypesPluggableDeviceID}, \ref{data:DataTypesPluggableDeviceType}\textgreater{}\textgreater{} pds)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Sends a heartbeat from a mote to a gateway, including a list of the pluggable devices and their device types (i.e. those currently plugged into the mote)
\item Created for: Given constraint, UC14, Av3: failure detection
        \end{itemize}
    \end{itemize}
    \end{description}

  %%%%%%%% InvoiceMgmt
  \subsection{InvoiceMgmt}\label{int:OtherDataDatabaseOtherDataDBInvoiceMgmt}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] \iconcomponent{}~\vpett{\nameref{comp:OtherDataDatabaseOtherDataDB}}
      \item[Required by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceInvoiceManager}}
      \item[Operations:] ~
    \begin{itemize}[noitemsep,nolistsep,leftmargin=-.25cm]
      \item \textsf{void markActivatedApplication(int applicationInstanceID, int custOrgID, \ref{data:DataTypesDateTime} date)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Updates an ApplicationInstance's billing information: marks the start of a billing period.
\item Created for: UC17.4, U2 - easy applications
        \end{itemize}
    \end{itemize}
    \end{description}

  %%%%%%%% InvoiceMgmt
  \subsection{InvoiceMgmt}\label{int:OnlineServiceOnlineServiceInvoiceManagerInvoiceMgmt}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceInvoiceManager}}
      \item[Required by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceApplicationManager}}
      \item[Operations:] ~
    \begin{itemize}[noitemsep,nolistsep,leftmargin=-.25cm]
      \item \textsf{void markActivatedApplication(int applicationInstanceID, int custOrgID, \ref{data:DataTypesDateTime} date)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Updates an ApplicationInstance's billing information: marks the start of a billing period.
\item Created for: UC17.4, U2 - easy applications
        \end{itemize}
    \end{itemize}
    \end{description}

  %%%%%%%% IOAppMgmt
  \subsection{IOAppMgmt}\label{int:OnlineServiceOnlineServiceApplicationManagerIOAppMgmt}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceApplicationManager}}
      \item[Required by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceInfrastructureOwnerFacade}}
      \item[Operations:] ~
    \begin{itemize}[noitemsep,nolistsep,leftmargin=-.25cm]
      \item \textsf{void checkApplicationsForActivationForCustomerOrganisations(List\textless{}int\textgreater{} custOrgIDs)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Checks and activates 'inactive' ApplicationInstances which can now execute again for a list of customer organisations.
\item Created for: UC9.7
        \end{itemize}
      \item \textsf{void checkApplicationsForDeactivationForCustomerOrganisations(List\textless{}int\textgreater{} custOrgsIDs)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Checks for ApplicationInstances that require deactivation for a list of customer organisations.
\item Created for: UC9.7
        \end{itemize}
    \end{itemize}
    \end{description}

  %%%%%%%% IODeviceMgmt
  \subsection{IODeviceMgmt}\label{int:DeviceDatabaseDeviceDBIODeviceMgmt}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] \iconcomponent{}~\vpett{\nameref{comp:DeviceDatabaseDeviceDB}}
      \item[Required by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceInfrastructureOwnerManager}}
      \item[Operations:] ~
    \begin{itemize}[noitemsep,nolistsep,leftmargin=-.25cm]
      \item \textsf{List\textless{}\ref{data:DataTypesPluggableDeviceInfo}\textgreater{} getDevices(int infrastructureOwnerID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Returns a list of PluggableDeviceInfo of devices owned by an infrastructure owner.
\item Created for: UC9.2
        \end{itemize}
    \end{itemize}
    \end{description}

  %%%%%%%% IOMgmt
  \subsection{IOMgmt}\label{int:OtherDataDatabaseOtherDataDBIOMgmt}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] \iconcomponent{}~\vpett{\nameref{comp:OtherDataDatabaseOtherDataDB}}
      \item[Required by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceInfrastructureOwnerManager}}
      \item[Operations:] ~
    \begin{itemize}[noitemsep,nolistsep,leftmargin=-.25cm]
      \item \textsf{List\textless{}int\textgreater{} getCustomerOrganisations(int infrastructureOwnerID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Returns a list of IDs of all customer organisations associated with an infrastructure owner.
\item Created for: UC9.4
        \end{itemize}
    \end{itemize}
    \end{description}

  %%%%%%%% IOMgmt
  \subsection{IOMgmt}\label{int:OnlineServiceOnlineServiceInfrastructureOwnerManagerIOMgmt}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceInfrastructureOwnerManager}}
      \item[Required by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceInfrastructureOwnerFacade}}
      \item[Operations:] ~
    \begin{itemize}[noitemsep,nolistsep,leftmargin=-.25cm]
      \item \textsf{List\textless{}int\textgreater{} getCustomerOrganisations(int infrastructureOwnerID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Returns a list of IDs of all customer organisations associated with an infrastructure owner.
\item Created for: UC9.4
        \end{itemize}
      \item \textsf{List\textless{}\ref{data:DataTypesPluggableDeviceInfo}\textgreater{} getDevices(int infrastructureOwnerID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Returns a list of PluggableDeviceInfo of devices owned by an infrastructure owner.
\item Created for: UC9.2
        \end{itemize}
    \end{itemize}
    \end{description}

  %%%%%%%% NotificationDeliveryMgmt
  \subsection{NotificationDeliveryMgmt}\label{int:NotificationDeliveryServiceNodeNotificationDeliveryServiceNotificationDeliveryMgmt}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] None
      \item[Required by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceNotificationHandler}}
      \item[Operations:] ~
    \begin{itemize}[noitemsep,nolistsep,leftmargin=-.25cm]
      \item \textsf{void notify(Map\textless{}string, string\textgreater{} data)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Delivers a notification to an end user using a specific delivery service.
\item Created for: UC15
        \end{itemize}
    \end{itemize}
    \end{description}

  %%%%%%%% NotificationMgmt
  \subsection{NotificationMgmt}\label{int:OtherDataDatabaseOtherDataDBNotificationMgmt}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] \iconcomponent{}~\vpett{\nameref{comp:OtherDataDatabaseOtherDataDB}}
      \item[Required by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceNotificationHandler}}
      \item[Operations:] ~
    \begin{itemize}[noitemsep,nolistsep,leftmargin=-.25cm]
      \item \textsf{int lookupNotificationChannelForUser()}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Returns the id of the type of communication channel a user prefers.
\item Created for: UC15
        \end{itemize}
      \item \textsf{int storeNotification(\ref{data:DataTypesNotification} notification)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Stores a new notification entry in the database. Returns the id of the new notification. \\
\item Created for: UC15, Av3: notifications
        \end{itemize}
      \item \textsf{int updateNotification(\ref{data:DataTypesNotification} notification)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Updates an existing notification (e.g. change status to "sent").
\item Created for: UC15
        \end{itemize}
    \end{itemize}
    \end{description}

  %%%%%%%% Notify
  \subsection{Notify}\label{int:OnlineServiceOnlineServiceNotificationHandlerNotify}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceNotificationHandler}}
      \item[Required by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceApplicationManager}}, \iconcomponent{}~\vpett{\nameref{comp:GatewayGatewayGatewayFacade}}
      \item[Operations:] ~
    \begin{itemize}[noitemsep,nolistsep,leftmargin=-.25cm]
      \item \textsf{void notify(int userID, string message)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Stores a new notification in the system and causes it to be sent to a user.
\item Created for: UC14, Av3: notifications
        \end{itemize}
    \end{itemize}
    \end{description}

  %%%%%%%% Other
  \subsection{Other}\label{int:PluggableDeviceDatabasePluggableDeviceDataDBOther}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] \iconcomponent{}~\vpett{\nameref{comp:PluggableDeviceDatabasePluggableDeviceDataDB}}
      \item[Required by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceOtherFunctionality1}}, \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceOtherFunctionality2}}
      \item[Operations:] ~
% no operations
    \end{description}

  %%%%%%%% Other
  \subsection{Other}\label{int:OtherDataDatabaseOtherDataDBOther}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] \iconcomponent{}~\vpett{\nameref{comp:OtherDataDatabaseOtherDataDB}}
      \item[Required by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceOtherFunctionality1}}, \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceOtherFunctionality2}}
      \item[Operations:] ~
% no operations
    \end{description}

  %%%%%%%% Other
  \subsection{Other}\label{int:OnlineServiceOnlineServiceOtherFunctionality2Other}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceOtherFunctionality1}}, \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceOtherFunctionality2}}
      \item[Required by:] \iconcomponent{}~\vpett{\nameref{comp:GatewayGatewayGatewayFacade}}
      \item[Operations:] ~
% no operations
    \end{description}

  %%%%%%%% RequestData
  \subsection{RequestData}\label{int:PuggableDevicePluggableDeviceFacadeRequestData}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] \iconcomponent{}~\vpett{\nameref{comp:PuggableDevicePluggableDeviceFacade}}
      \item[Required by:] \iconcomponent{}~\vpett{\nameref{comp:MoteMoteFacade}}
      \item[Operations:] ~
    \begin{itemize}[noitemsep,nolistsep,leftmargin=-.25cm]
      \item \textsf{\ref{data:DataTypesDeviceData} getData()}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Synchronously retrieve the device data of a device. \\
        \end{itemize}
      \item \textsf{void getDataAsync(int requestID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Asynchronously retrieve the device data of a device (by calling rcvDataCallback).
        \end{itemize}
    \end{itemize}
    \end{description}

  %%%%%%%% RequestData
  \subsection{RequestData}\label{int:OnlineServiceOnlineServiceDeviceDataSchedulerRequestData}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceDeviceDataScheduler}}
      \item[Required by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceApplicationManager}}
      \item[Operations:] ~
    \begin{itemize}[noitemsep,nolistsep,leftmargin=-.25cm]
      \item \textsf{List\textless{}\ref{data:DataTypesDeviceData}\textgreater{} getData(int applicationID, \ref{data:DataTypesPluggableDeviceID} pID, \ref{data:DataTypesDateTime} from, \ref{data:DataTypesDateTime} to)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Requests data from a specific device in a certain time period.
\item Created for: P2: requests from applications
        \end{itemize}
    \end{itemize}
    \end{description}

  %%%%%%%% RoleMgmt
  \subsection{RoleMgmt}\label{int:OnlineServiceOnlineServiceUserRolesManagerRoleMgmt}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceUserRolesManager}}
      \item[Required by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceApplicationManager}}, \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceCustomerOrganisationFacade}}
      \item[Operations:] ~
    \begin{itemize}[noitemsep,nolistsep,leftmargin=-.25cm]
      \item \textsf{boolean areMandatoryUserRolesAssigned(int applicationInstanceID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Returns true if all mandatory UserRoles for the application have been assigned to users. Finds the relevant customer organisations through the ApplicationInstance.
\item Created for: UC17.1, U2 - easy applications
        \end{itemize}
      \item \textsf{List\textless{}\ref{data:DataTypesUser}\textgreater{} getEndUsers(int custOrgID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Returns a list of Users which are associated to a customer organisation.
\item Created for: UC19.8, U2 - easy applications
        \end{itemize}
      \item \textsf{List\textless{}\ref{data:DataTypesUserRole}\textgreater{} getMandatoryUserRoles(int applicationID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Returns a list of UserRoles that which need to be assigned in order for an ApplicationInstance to run.
\item Created for: UC19.7, U2 - easy applications
        \end{itemize}
      \item \textsf{List\textless{}\ref{data:DataTypesUserRole}\textgreater{} getOptionalUserRoles(int applicationID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Returns a list of UserRoles which can optionally be assigned for an ApplicationInstance.
\item Created for: UC19.7, U2 - easy applications
        \end{itemize}
      \item \textsf{List\textless{}\ref{data:DataTypesUser}\textgreater{} getUsersWithRoles(int applicationInstanceID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Returns a list of Users associated to an ApplicationInstance that were assigned UserRoles.
\item Created for: UC17.6, U2 - easy applications
        \end{itemize}
      \item \textsf{void updateUserRoles(int applicationInstanceID, Map\textless{}int, int\textgreater{} usersAndRoles)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Updates the UserRoles assigned to Users for a certain ApplicationInstance. 'usersAndRoles' maps User IDs to UserRole IDs.
\item Created for: UC19.9, U2 - easy applications
        \end{itemize}
    \end{itemize}
    \end{description}

  %%%%%%%% SubscriptionMgmt
  \subsection{SubscriptionMgmt}\label{int:OtherDataDatabaseOtherDataDBSubscriptionMgmt}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] \iconcomponent{}~\vpett{\nameref{comp:OtherDataDatabaseOtherDataDB}}
      \item[Required by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceSubscriptionManager}}
      \item[Operations:] ~
    \begin{itemize}[noitemsep,nolistsep,leftmargin=-.25cm]
      \item \textsf{void createSubscription(int custOrgID, int applicationInstanceID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Creates a subscription for a customer organisation to an ApplicationInstance. If the customer organisation is already subscribed to an older version of the the application, then the organisation is unsubscribed from that earlier version.
\item Created for: UC19.12-13, U2 - easy applications
        \end{itemize}
      \item \textsf{List\textless{}\ref{data:DataTypesSubscription}\textgreater{} getSubscriptions(int custOrgID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Returns a list of subscriptions a customer organisation has.
\item Created for: UC19.2, U2 - easy applications
        \end{itemize}
    \end{itemize}
    \end{description}

  %%%%%%%% SubscriptionMgmt
  \subsection{SubscriptionMgmt}\label{int:OnlineServiceOnlineServiceCustomerOrganisationFacadeSubscriptionMgmt}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceCustomerOrganisationFacade}}
      \item[Required by:] \iconcomponent{}~\vpett{\nameref{comp:CustomerOgranisationClient}}
      \item[Operations:] ~
    \begin{itemize}[noitemsep,nolistsep,leftmargin=-.25cm]
      \item \textsf{Map\textless{}\ref{data:DataTypesApplication}, \ref{data:DataTypesSubscription}\textgreater{} getApplicationsToSubscribe(int custOrgID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Returns a map of Applications and Subscriptions a given customer organisation has to those applications
\item Created for: UC19.1, U2 - easy applications
        \end{itemize}
      \item \textsf{int subscribeToApplication(int custOrgID, int applicationID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Creates a new ApplicationInstance for an application for a customer organisation and returns its id.
\item Created for: UC19.4, U2 - easy applications
        \end{itemize}
      \item \textsf{void updateApplicationDevicesSettings(int applicationInstanceID, List\textless{}\ref{data:DataTypesPluggableDeviceID}\textgreater{} devices, List\textless{}\ref{data:DataTypesRelationship}\textgreater{} relationships)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Updates an ApplicationInstance's device settings. This includes which devices the instance can use and which relationships exist between those devices.
\item Created for: UC19.6, U2 - easy applications
        \end{itemize}
      \item \textsf{void updateCriticality(int applicationInstanceID, boolean isCritical)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Updates the criticality of an ApplicationInstance.
\item Created for: UC19.11, U2 - easy applications
        \end{itemize}
      \item \textsf{void updateUserRoles(int applicationInstanceID, Map\textless{}int, int\textgreater{} usersAndRoles)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Updates the UserRoles assigned to Users for a certain ApplicationInstance. 'usersAndRoles' maps User IDs to UserRole IDs.
\item Created for: UC19.9, U2 - easy applications
        \end{itemize}
    \end{itemize}
    \end{description}

  %%%%%%%% SubscriptionMgmt
  \subsection{SubscriptionMgmt}\label{int:OnlineServiceOnlineServiceSubscriptionManagerSubscriptionMgmt}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceSubscriptionManager}}
      \item[Required by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceCustomerOrganisationFacade}}
      \item[Operations:] ~
    \begin{itemize}[noitemsep,nolistsep,leftmargin=-.25cm]
      \item \textsf{void createSubscription(int custOrgID, int applicationInstanceID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Creates a subscription for a customer organisation to an ApplicationInstance. If the customer organisation is already subscribed to an older version of the the application, then the organisation is unsubscribed from that earlier version.
\item Created for: UC19.12-13, U2 - easy applications
        \end{itemize}
      \item \textsf{Map\textless{}\ref{data:DataTypesApplication}, \ref{data:DataTypesSubscription}\textgreater{} getApplicationsToSubscribe(int custOrgID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Returns a map of Applications and Subscriptions a given customer organisation has to those applications
\item Created for: UC19.2, U2 - easy applications
        \end{itemize}
    \end{itemize}
    \end{description}

  %%%%%%%% TopologyMgmt
  \subsection{TopologyMgmt}\label{int:DeviceDatabaseDeviceDBTopologyMgmt}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] \iconcomponent{}~\vpett{\nameref{comp:DeviceDatabaseDeviceDB}}
      \item[Required by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceTopologyManager}}
      \item[Operations:] ~
    \begin{itemize}[noitemsep,nolistsep,leftmargin=-.25cm]
      \item \textsf{void addDevice(\ref{data:DataTypesPluggableDeviceID} pID, int moteID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Adds a new pluggable device to the topology of the infrastructure owner and links it to a mote. The device gets the mote's location by default. If the device is already linked to another mote, overwrites that link.
\item Created for: UC6.3, U2 - easy pluggable device installation
        \end{itemize}
      \item \textsf{void addMote(int moteID, int infrastructureOwnerID, int gatewayID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Adds a new mote to a topology of an infrastructure owner. The mote is linked to a gateway and gets status 'unplaced' by default.
\item Created for: UC4.3, U2 - easy mote installation
        \end{itemize}
      \item \textsf{boolean arePluggableDevicesPlaced(List\textless{}\ref{data:DataTypesPluggableDeviceID}\textgreater{} devices)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Returns true if all pluggable devices in the given list have status 'placed' in the topology.
\item Created for: UC17.2, U2 - easy applications
        \end{itemize}
      \item \textsf{List\textless{}\ref{data:DataTypesRoomTopology}\textgreater{} getTopology(int custOrgID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Returns a list of RoomTopology associated to a customer organisation.
\item Created for: UC19.5, U2 - easy applications
        \end{itemize}
      \item \textsf{void reactivateDevice(\ref{data:DataTypesPluggableDeviceID} id)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Changes the status of a pluggable device in the topology to 'placed'.
\item Created for: UC6.3 - reintroduced device
        \end{itemize}
      \item \textsf{void reactivateMote(int moteID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Changes the status of the mote in the topology to 'placed'. The location of the mote is unchanged, it has already been set.
\item Created for: U2 - Reintroducing a previously known mote should not require any conguration.
        \end{itemize}
    \end{itemize}
    \end{description}

  %%%%%%%% TopologyMgmt
  \subsection{TopologyMgmt}\label{int:OnlineServiceOnlineServiceTopologyManagerTopologyMgmt}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceTopologyManager}}
      \item[Required by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceApplicationManager}}, \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceCustomerOrganisationFacade}}, \iconcomponent{}~\vpett{\nameref{comp:GatewayGatewayGatewayFacade}}
      \item[Operations:] ~
    \begin{itemize}[noitemsep,nolistsep,leftmargin=-.25cm]
      \item \textsf{void addDevice(\ref{data:DataTypesPluggableDeviceID} id, int moteID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Adds a new pluggable device to the topology of the infrastructure owner and links it to a mote. The device gets the mote's location by default. If the device is already linked to another mote, overwrites that link.
\item Created for: UC6.3, U2 - easy pluggable device installation
        \end{itemize}
      \item \textsf{void addMote(int moteID, int gatewayID, int infrastructureOwnerID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Adds a new mote to a topology of an infrastructure owner. The mote is linked to a gateway and gets status 'unplaced' by default.
\item Created for: UC4.3, U2 - easy mote installation
        \end{itemize}
      \item \textsf{boolean arePluggableDevicesPlaced(List\textless{}\ref{data:DataTypesPluggableDeviceID}\textgreater{} devices)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Returns true if all pluggable devices in the given list have status 'placed' in the topology.
\item Created for: UC17.2, U2 - easy applications
        \end{itemize}
      \item \textsf{List\textless{}\ref{data:DataTypesRoomTopology}\textgreater{} getTopology(int custOrgID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Returns a list of RoomTopology associated to a customer organisation.
\item Created for: UC19.5, U2 - easy applications
        \end{itemize}
      \item \textsf{void reactivateDevice(\ref{data:DataTypesPluggableDeviceID} id)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Changes the status of a pluggable device in the topology to 'placed'.
\item Created for: UC6.3 - reintroduced device
        \end{itemize}
      \item \textsf{void reactivateMote(int moteID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Changes the status of the mote in the topology to 'placed'. The location of the mote is unchanged, it has already been set.
\item Created for: U2 - Reintroducing a previously known mote should not require any conguration.
        \end{itemize}
    \end{itemize}
    \end{description}

  %%%%%%%% TopologyOverview
  \subsection{TopologyOverview}\label{int:OnlineServiceOnlineServiceApplicationFacadeTopologyOverview}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceApplicationFacade}}
      \item[Required by:] \iconcomponent{}~\vpett{\nameref{comp:ApplicationClient}}
      \item[Operations:] ~
% no operations
    \end{description}

  %%%%%%%% UserRoleMgmt
  \subsection{UserRoleMgmt}\label{int:OtherDataDatabaseOtherDataDBUserRoleMgmt}
    \begin{description}[noitemsep,nolistsep]
      \item[Provided by:] \iconcomponent{}~\vpett{\nameref{comp:OtherDataDatabaseOtherDataDB}}
      \item[Required by:] \iconcomponent{}~\vpett{\nameref{comp:OnlineServiceOnlineServiceUserRolesManager}}
      \item[Operations:] ~
    \begin{itemize}[noitemsep,nolistsep,leftmargin=-.25cm]
      \item \textsf{boolean areMandatoryUserRolesAssigned(int applicationInstanceID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Returns true if all mandatory UserRoles for the application have been assigned to users. Finds the relevant customer organisations through the ApplicationInstance.
\item Created for: UC17.1, U2 - easy applications
        \end{itemize}
      \item \textsf{List\textless{}\ref{data:DataTypesUser}\textgreater{} getEndUsers(int custOrgID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Returns a list of Users which are associated to a customer organisation.
\item Created for: UC19.8, U2 - easy applications
        \end{itemize}
      \item \textsf{List\textless{}\ref{data:DataTypesUserRole}\textgreater{} getMandatoryUserRoles(int applicationID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Returns a list of UserRoles that which need to be assigned in order for an ApplicationInstance to run.
\item Created for: UC19.7, U2 - easy applications
        \end{itemize}
      \item \textsf{List\textless{}\ref{data:DataTypesUserRole}\textgreater{} getOptionalUserRoles(int applicationID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Returns a list of UserRoles which can optionally be assigned for an ApplicationInstance.
\item Created for: UC19.7, U2 - easy applications
        \end{itemize}
      \item \textsf{List\textless{}\ref{data:DataTypesUser}\textgreater{} getUsersWithRoles(int applicationInstanceID)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Returns a list of Users associated to an ApplicationInstance that were assigned UserRoles.
\item Created for: UC17.6, U2 - easy applications
        \end{itemize}
      \item \textsf{void updateUserRoles(int applicationInstanceID, Map\textless{}int, int\textgreater{} usersAndRoles)}
        \begin{itemize}[noitemsep,nolistsep]
           \item Effect: Updates the UserRoles assigned to Users for a certain ApplicationInstance. 'usersAndRoles' maps User IDs to UserRole IDs.
\item Created for: UC19.9, U2 - easy applications
        \end{itemize}
    \end{itemize}
    \end{description}

% END INTERFACES

% EXCEPTIONS
\section{Exceptions}\label{sec:exceptions}
\begin{itemize}[nolistsep,noitemsep]
\item[] No exceptions
\end{itemize}
% END EXCEPTIONS

% DATA TYPES
\section{Data types}\label{sec:datatypes}
\begin{itemize}[nolistsep,noitemsep]
\item \vpedatatype{data:DataTypesApplication}{Application}: 
\begin{itemize}[noitemsep,nolistsep]

\item[] {\colorbox{red!30}{\underline{Undefined}}}
\end{itemize}
\item \vpedatatype{data:DataTypesApplicationInstance}{ApplicationInstance}: 
\begin{itemize}[noitemsep,nolistsep]
\item[] Attributes: int id, int status, int customerOrganisationID
\item[] Contains information on an application instance.
\end{itemize}
\item \vpedatatype{data:DataTypesDateTime}{DateTime}: 
\begin{itemize}[noitemsep,nolistsep]

\item[] Represents an instant in time, expressed as a date and time of day.
\end{itemize}
\item \vpedatatype{data:DataTypesDeviceData}{DeviceData}: 
\begin{itemize}[noitemsep,nolistsep]

\item[] Data from a pluggable device. For sensors, this contains sensor values. For actuators, this contains the state of the actuator. The data is encapsulated within a JSON message, and should be converted into something meaningful based on the device type of the pluggable device that sent the data.
\end{itemize}
\item \vpedatatype{data:DataTypesIPAddress}{IPAddress}: 
\begin{itemize}[noitemsep,nolistsep]

\item[] {\colorbox{red!30}{\underline{Undefined}}}
\end{itemize}
\item \vpedatatype{data:DataTypesMoteInfo}{MoteInfo}: 
\begin{itemize}[noitemsep,nolistsep]
\item[] Attributes: int moteID, int manufacturerID, int productID, int batteryLevel
\item[] An object containing information on a mote. This is a list of key-value pairs. The values depend on the type of mote. For example, only a battery-powered mote would include the batterylevel info.
\end{itemize}
\item \vpedatatype{data:DataTypesNotification}{Notification}: 
\begin{itemize}[noitemsep,nolistsep]
\item[] Attributes: int id, int recipientUserID, string message, int communicationChannelID, int notificationTypeID
\item[] Contains information about a notification. The communicationChannellD represents the communication channel that will be used to send the notification to the user. The notificationTypeID denotes the type of the notification (normal / alarm / ...).
\end{itemize}
\item \vpedatatype{data:DataTypesPluggableDeviceID}{PluggableDeviceID}: 
\begin{itemize}[noitemsep,nolistsep]

\item[] A unique identifier of a pluggable device.
\end{itemize}
\item \vpedatatype{data:DataTypesPluggableDeviceInfo}{PluggableDeviceInfo}: 
\begin{itemize}[noitemsep,nolistsep]
\item[] Attributes: \ref{data:DataTypesPluggableDeviceID} id, \ref{data:DataTypesPluggableDeviceType} type, Map\textless{}string, string\textgreater{} config
\item[] Contains information on a pluggable device.
\end{itemize}
\item \vpedatatype{data:DataTypesPluggableDeviceType}{PluggableDeviceType}: 
\begin{itemize}[noitemsep,nolistsep]

\item[] Denotes the type of a pluggable device.
\end{itemize}
\item \vpedatatype{data:DataTypesRelationship}{Relationship}: 
\begin{itemize}[noitemsep,nolistsep]

\item[] {\colorbox{red!30}{\underline{Undefined}}}
\end{itemize}
\item \vpedatatype{data:DataTypesRoomTopology}{RoomTopology}: 
\begin{itemize}[noitemsep,nolistsep]

\item[] {\colorbox{red!30}{\underline{Undefined}}}
\end{itemize}
\item \vpedatatype{data:DataTypesSubscription}{Subscription}: 
\begin{itemize}[noitemsep,nolistsep]
\item[] Attributes: int id, int status, int customerOrganisationID, int applicationInstanceID
\item[] Contains data about a subscription by a customer organisation for an application instance. Data about period/length of the subscription is stored in invoices.
\end{itemize}
\item \vpedatatype{data:DataTypesUser}{User}: 
\begin{itemize}[noitemsep,nolistsep]

\item[] {\colorbox{red!30}{\underline{Undefined}}}
\end{itemize}
\item \vpedatatype{data:DataTypesUserRole}{UserRole}: 
\begin{itemize}[noitemsep,nolistsep]

\item[] {\colorbox{red!30}{\underline{Undefined}}}
\end{itemize}
\end{itemize}
% END TYPES

%\end{document}