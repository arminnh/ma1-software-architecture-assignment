% \chapter{Scenarios}\label{ch:scenarios}

% Delete the command below to remove the hints and instructions

\section{Scenarios}
    This section lists which sequence diagrams belong to which scenarios:
    \begin{itemize}
        \item UC11: Sensor data being processed by the system \\
              Figure \ref{fig:seq_scenario1}

        \item UC19: Subscribing to an application \\
              Figure \ref{fig:seq_scenario2}

        \item UC12: Applications issuing actuation commands \\
              Figure \ref{fig:seq_scenario31}
              Figure \ref{fig:seq_scenario32}
              Figure \ref{fig:seq_scenario33}

        \item UC14, Av3, UC18: Sensors/actuators failing \\
              Figure \ref{fig:seq_scenario4} \\

        \item Av2: Application crash \\
              Figure \ref{fig:seq_scenario5}

        \item U2, UC6: Plugging in a new pluggable device (sensor or actuator) \\
              Figure \ref{fig:seq_scenario6}

        \item UC4: Install mote \\
              Figure \ref{fig:seq_scenario666}

        \item UC22, U1: Upgrading an application \\
              Figure \ref{fig:seq_scenario8}

        \item UC26, UC27, UC12: Sending actuation commands via a mobile app \\
              Figure \ref{fig:seq_scenario9}
    \end{itemize}

    \begin{figure}[!htp]
    	\centering
    	\includegraphics[width=\textwidth]{images/sequence-UC11}
    	\caption[Sensor data being processed by the system]{The pluggable device sends data to the system. The gateway receives the data and forwards it to the Online Service.
    	 The Data are saved in the Online Service in the PluggableDeviceDataDB. }\label{fig:seq_scenario1}
    \end{figure}

    \begin{figure}[!htp]
    	\centering
    	\includegraphics[width=\textwidth]{images/sequence-UC19}
    	\caption[ Subscribing to an application]{A customer organisation actor wants to subscribe to an application. The system provides him applications to subscription
    	                        The customer organisation chooses application, sets application devices settings and user roles }\label{fig:seq_scenario2}
    \end{figure}

    \begin{figure}[!htp]
    	\centering
    	\includegraphics[width=\textwidth]{images/sequence-UC12-commandFromFrontEnd}
    	\caption[Applications issuing actuation commands]{An application sends an actuation command to the one or more pluggable devices. The actuation command is
    	 created according to the specific formatting syntax for the each device. }\label{fig:seq_scenario31}
    \end{figure}

    \begin{figure}[!htp]
    	\centering
    	\includegraphics[width=\textwidth]{images/sequence-UC12-commandFromGW}
    	\caption[Applications issuing actuation commands]{An application sends an actuation command to the one or more pluggable devices. The actuation command is
    	 created according to the specific formatting syntax for the each device. }\label{fig:seq_scenario32}
    \end{figure}

    \begin{figure}[!htp]
    	\centering
    	\includegraphics[width=\textwidth]{images/sequence-UC12-commandFromOS}
    	\caption[Applications issuing actuation commands]{An application sends an actuation command to the one or more pluggable devices. The actuation command is
    	 created according to the specific formatting syntax for the each device. }\label{fig:seq_scenario33}
    \end{figure}

    \begin{figure}[!htp]
    	\centering
    	\includegraphics[width=\textwidth]{images/sequence-Av3-UC14-UC18}
    	\caption[Scenario ]{This is the flow of pluggable device failure. If there is not redundant pluggable device, then the application is deactivated.}\label{fig:seq_scenario4}
    \end{figure}

    \begin{figure}[!htp]
    	\centering
    	\includegraphics[width=\textwidth]{images/sequence-Av2}
    	\caption[Application crash]{ In the flow is shown failure of an application. The important part of this diagram is monitoring system, that detect failure of the application. }\label{fig:seq_scenario5}
    \end{figure}

    \begin{figure}[!htp]
    	\centering
    	\includegraphics[width=\textwidth]{images/sequence-U2-UC4}
    	\caption[Plugging in a new pluggable device (sensor or actuator)]{ The new pluggable device is detected and saved as 'inactive'. In case Pluggable device is known previously, the SloTIP reactivated the pluggable device automatically.}\label{fig:seq_scenario6}
    \end{figure}

    \begin{figure}[h]
    	\centering
    	\includegraphics[width=\textwidth]{images/sequence-U1-UC22}
    	\caption[Upgrading an application]{ The application provider can upload new application or update existing.}\label{fig:seq_scenario8}
    \end{figure}

    \begin{figure}[!htp]
    	\centering
    	\includegraphics[width=\textwidth]{images/sequence-UC12-UC26-UC27}
    	\caption[Sending actuation commands via a mobile app]{ The application sends command from external frontend to the other parts of application. }\label{fig:seq_scenario9}
    \end{figure}

    \begin{figure}[!htp]
    	\centering
    	\includegraphics[width=\textwidth]{images/sequence-UC04}
    	\caption[Install mote]{The scenario for installing a mote}\ref{fig:seq_scenario666}
    \end{figure}
